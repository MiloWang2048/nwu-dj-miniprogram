# nwu-dj小程序概要设计

## 软件架构和技术选型

- 服务端使用SSM，运行在dj-back容器中，工作在dj-vnet虚拟子网下，虚拟域名为dj-back
- 前端运行在小程序平台，通过微信部署
- 后台使用vue，运行在dj-admin容器中，工作在dj-vnet虚拟子网下，虚拟域名为dj-admin
- nginx反向代理运行在dj-proxy容器中，工作在dj-vnet虚拟子网下，虚拟域名为dj-proxy，对外暴露443端口
- mysql容器运行在dj-db容器中，工作在dj-vnet虚拟子网下，虚拟域名为dj-db，开发时对外暴露3306端口以供调试

## 服务端

- 服务端使用Spring系列框架作业务层，提供REST服务
- 使用Shiro作安全框架进行访问控制
- 使用jxl进行excel操作
- 使用Mybatis作持久层
- 所有的列表接口需支持分页、排序、搜索功能
- 使用session-cookie机制

## 数据库

- 所有表使用自增主键
- 不使用外键约束
- 使用唯一索引标志唯一性
- 使用create、modify、is_deleted标志相关信息

## 反向代理

- 由nginx容器进行反向代理、TLS解包
- 将`/`代理给dj-back，将`/admin`代理给dj-admin

## 前端

- 在微信小程序平台运行
- 只允许基本类型的页面参数，详细信息由服务端获取
- 视图组件与逻辑组件分离

## 后台

- 使用vue作MVVM框架
- 使用vue-router作路由管理，使用history模式
- 部署在nginx容器中